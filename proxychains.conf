# proxychains.conf  FOR PROXYCHAINS.EXE
#
#   Transparent SOCKS5/SOCKS4/HTTP proxy chaining via DLL injection.
#   Supports: SOCKS5 (user/pass), SOCKS4/4a (userid), HTTP CONNECT (Basic auth)
#

# ====================================================================
# CHAIN MODE
# ====================================================================
# Choose ONE chain mode. Only the last uncommented option takes effect.
#
# strict_chain   - All proxies must be online; fail if any is dead (default)
# dynamic_chain  - Skip dead proxies (up to 3 consecutive failures);
#                  fail only if ALL proxies are dead
# random_chain   - Pick chain_len random proxies per connection
# round_robin_chain - Rotate through proxies sequentially per connection

strict_chain
#dynamic_chain
#random_chain
#round_robin_chain

# Number of proxies to use per connection (random_chain and round_robin_chain only)
# Default: 1. Must be <= number of proxies in [ProxyList]
#chain_len = 2

# Fixed random seed for reproducible proxy selection (random_chain only).
# If not set, the seed is time-based (GetTickCount).
#random_seed = 42

# ====================================================================
# GENERAL OPTIONS
# ====================================================================

# Quiet mode (suppress all library output)
#quiet_mode

# Proxy DNS requests using Fake IP - prevents DNS leaks
proxy_dns

# Proxy DNS requests using SOCKS5 UDP associate (NOT SUPPORTED YET)
#proxy_dns_udp_associate

# ====================================================================
# FAKE DNS / REMOTE DNS SUBNET
# ====================================================================
# Class A subnet for internal DNS mapping. When an app does DNS,
# we return a fake IP from this range and map it to the real hostname.
# Default: 224 (224.x.x.x). Alternatives: 10, 127
# Ensure the app doesn't need real access to this subnet.
#remote_dns_subnet 127
#remote_dns_subnet 10
remote_dns_subnet 224

# CIDR format for DNS subnet mapping
# Example: remote_dns_subnet_cidr_v4 224.0.0.0/8 is equivalent to remote_dns_subnet 224
# Default: 224.0.0.0/8 (IPv4), 250d::/16 (IPv6)
#remote_dns_subnet_cidr_v4 224.0.0.0/8
#remote_dns_subnet_cidr_v6 250d::/16

# ====================================================================
# TIMEOUTS
# ====================================================================
# Connection and read timeouts in milliseconds.
# tcp_connect_time_out: max time to establish TCP connection (default: 3000)
# tcp_read_time_out: max time to wait for data after connect (default: 5000)
tcp_read_time_out 15000
tcp_connect_time_out 8000

# ====================================================================
# PROCESS NAME FILTERING
# ====================================================================
# Control which child processes get the proxy hook DLL injected.
# Use process_only (whitelist) OR process_except (blacklist), not both.
# Case-insensitive matching. Maximum 8 entries.
#
# Whitelist: only proxy these child processes
#process_only = curl.exe
#process_only = wget.exe
#process_only = git.exe
#process_only = ssh.exe
#
# Blacklist: proxy everything except these processes
#process_except = explorer.exe
#process_except = svchost.exe
#process_except = conhost.exe


# ====================================================================
# ROUTING RULES
# ====================================================================
# Control which connections are PROXIED, DIRECT (bypass), or BLOCKED.
# First matched rule wins.

# localnet: bypass proxy for local/private networks
localnet 127.0.0.0/255.0.0.0
# localnet 10.0.0.0/255.0.0.0
# localnet 172.16.0.0/255.240.0.0
# localnet 192.168.0.0/255.255.0.0


# localnet examples with port restrictions:
# localnet 192.168.1.0:80/255.255.255.0
# localnet 0.0.0.0:80/0.0.0.0

# === Advanced routing rules ===
# Rule types: DOMAIN-KEYWORD, DOMAIN-SUFFIX, DOMAIN-FULL (or DOMAIN),
#             IP-CIDR, PORT, FINAL
# Targets: PROXY, DIRECT, BLOCK
#
# Examples:
#   DOMAIN-KEYWORD,google,DIRECT       # bypass proxy for google domains
#   DOMAIN-SUFFIX,.onion,PROXY         # force .onion through proxy
#   DOMAIN-FULL,api.myservice.com,DIRECT
#   IP-CIDR,8.8.8.8/32,DIRECT         # bypass for Google DNS
#   PORT,25,BLOCK                      # block SMTP
#   FINAL,PROXY                        # default for unmatched

# Private networks - bypass proxy
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT
# IPv6 link-local (RFC 4291)
IP-CIDR,fe80::/10,DIRECT
# IPv6 loopback
IP-CIDR,::1/128,DIRECT
# IPv6 unique local (RFC 4193) - uncomment if needed
#IP-CIDR,fc00::/7,DIRECT

# ====================================================================
# DNS AND IP BEHAVIOR
# ====================================================================

# Remove fake IP entries when child process exits (default: 1)
delete_fake_ip_after_child_exits 1

# Default target when no rules match: PROXY or DIRECT (default: PROXY)
default_target PROXY

# Use fake IP when hostname doesn't match any rules (default: 1)
# Set to 0 to apply IP-CIDR rules to resolved addresses instead
use_fake_ip_when_hostname_not_matched 1

# Internal IP mapping options (keep defaults unless you know what you're doing)
map_resolved_ip_to_host 0
search_for_host_by_resolved_ip 0
resolve_locally_if_match_hosts 1

# Generate fake IPs by FQDN hash (1) or sequentially (0)
# Hash mode avoids SSH host key warnings for same hostname (default: 1)
gen_fake_ip_using_hashed_hostname 1

# Whether first proxy in chain accepts IPv4 connections (default: 1)
first_tunnel_uses_ipv4 1

# Whether first proxy in chain accepts IPv6 connections (default: 0)
first_tunnel_uses_ipv6 0

# ====================================================================
# CUSTOM HOSTS FILE
# ====================================================================
# Override DNS for specific hostnames. Environment variables are expanded.
# Hostname matching is case-insensitive.
#custom_hosts_file_path C:\Users\MyUser\hosts
#custom_hosts_file_path %USERPROFILE%\hosts
#custom_hosts_file_path /etc/alternative/hosts

# ====================================================================
# LOGGING
# ====================================================================
# Log level (higher = more verbose):
#   600 = VERBOSE, 500 = DEBUG, 400 = INFO (default)
#   300 = WARNING, 200 = ERROR, 100 = CRITICAL
# "log_level 200" is equivalent to "quiet_mode"
log_level 400

# ====================================================================
# PROXY LIST
# ====================================================================
# Format: type  host  port  [user]  [pass]
# Supported types:
#   socks5  - SOCKS5 with optional username/password auth
#   socks4  - SOCKS4/4a with optional userid
#   http    - HTTP CONNECT with optional Basic auth (user/pass)
#
# Examples:
#   socks5  127.0.0.1        1080
#   socks5  my-proxy.com     1080  myuser   mypassword
#   socks4  192.168.1.100    1080  myuserid
#   http    proxy.corp.com   8080
#   http    proxy.corp.com   3128  admin    secret123

[ProxyList]
# Add your proxies below. At least one proxy is required.
socks5 127.0.0.1 1080